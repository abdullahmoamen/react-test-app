{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Abdullah\\\\Desktop\\\\react-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Abdullah\\\\Desktop\\\\react-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Abdullah\\\\Desktop\\\\react-test\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Abdullah\\\\Desktop\\\\react-test\\\\src\\\\components\\\\app.jsx\";\nimport React, { Component } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport NavBar from \"./navbar\";\nimport ShoppingCart from \"./shoppingCart\";\nimport Home from \"./home\";\nimport ProductDetails from \"./productDetails\";\nimport Menu from \"./menu\";\nimport NotFound from \"./notFound\";\nimport Login from \"./login\";\nimport Admin from \"./admin\";\nimport ProductForm from \"./ProductForm\";\n\nclass App extends Component {\n  constructor(...args) {\n    var _this;\n\n    super(...args);\n    _this = this;\n    this.state = {\n      products: []\n    };\n\n    this.handleDelete = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(product) {\n        var oldProducts, products;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              oldProducts = [..._this.state.products]; //State\n              //Clone\n              //Edit\n\n              products = _this.state.products.filter(p => p.id !== product.id); //Set state\n\n              _this.setState({\n                products\n              });\n\n              _context.prev = 3;\n              _context.next = 6;\n              return axios.delete(\"https://iti-react-cource.herokuapp.com/products/111\" + product.id);\n\n            case 6:\n              _context.next = 12;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](3);\n              toast.e(\"Cant Delete\");\n\n              _this.setState({\n                products: oldProducts\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[3, 8]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    this.handleEdit = () => {\n      console.log(\"edit\");\n    };\n\n    this.handleReset = () => {\n      //Clone\n      let products = [...this.state.products]; //Edit\n\n      products = products.map(p => {\n        p.count = 0;\n        return p;\n      }); //Set state\n\n      this.setState({\n        products\n      });\n    };\n\n    this.IncrementHandler = product => {\n      //Clone\n      const products = [...this.state.products];\n      const index = products.indexOf(product);\n      products[index] = _objectSpread({}, products[index]); //Edit\n\n      products[index].count++; //Set State\n\n      this.setState({\n        products\n      });\n    };\n\n    this.handleInCartChange = product => {\n      //Clone\n      const products = [...this.state.products];\n      const index = products.indexOf(product);\n      products[index] = _objectSpread({}, products[index]); //Edit\n\n      products[index].isInCart = !products[index].isInCart; //Set State\n\n      this.setState({\n        products\n      });\n    };\n  }\n\n  componentDidMount() {\n    var _this2 = this;\n\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var _yield$axios$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return axios.get(\"https://iti-react-cource.herokuapp.com/products\");\n\n          case 2:\n            _yield$axios$get = _context2.sent;\n            data = _yield$axios$get.data;\n\n            //Convert Object reterned from Firebase to Array\n            //In Lecture we use JSON-SERVER\n            // const dataArray = [];\n            // for (const key in data) {\n            //   dataArray[parseInt(data[key].id)] = data[key];\n            // }\n            //Set State\n            _this2.setState({\n              products: data\n            });\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  } //Not good Solution !!!\n  // async componentDidUpdate() {\n  //   //Call Backend\n  //   const { data } = await axios.get(\n  //     \"https://burger-restaurant-iti.firebaseio.com/products.json\"\n  //   );\n  //   //Set State\n  //   this.setState({ products: data });\n  // }\n\n\n  render() {\n    console.log(this.state.products);\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(NavBar, {\n      productsCount: this.state.products.filter(p => p.isInCart).length,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: \"/products/:id/:name?\",\n      render: props => /*#__PURE__*/React.createElement(ProductDetails, Object.assign({\n        products: this.state.products\n      }, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/productform/:id\",\n      render: props => /*#__PURE__*/React.createElement(ProductForm, Object.assign({}, props, {\n        products: this.state.products,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/admin\",\n      render: props => /*#__PURE__*/React.createElement(Admin, Object.assign({}, props, {\n        products: this.state.products,\n        onDelete: this.handleDelete,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      component: Login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/cart\",\n      render: props => /*#__PURE__*/React.createElement(ShoppingCart, Object.assign({\n        products: this.state.products.filter(p => p.isInCart),\n        onIncrement: this.IncrementHandler,\n        onDelete: this.handleInCartChange,\n        onReset: this.handleReset\n      }, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/notfound\",\n      component: NotFound,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/menu\",\n      render: props => /*#__PURE__*/React.createElement(Menu, Object.assign({}, props, {\n        products: this.state.products,\n        onClick: this.handleInCartChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/home\",\n      exact: true,\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Redirect, {\n      from: \"/\",\n      to: \"/home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/notfound\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Abdullah/Desktop/react-test/src/components/app.jsx"],"names":["React","Component","Route","Switch","Redirect","axios","ToastContainer","toast","NavBar","ShoppingCart","Home","ProductDetails","Menu","NotFound","Login","Admin","ProductForm","App","state","products","handleDelete","product","oldProducts","filter","p","id","setState","delete","e","handleEdit","console","log","handleReset","map","count","IncrementHandler","index","indexOf","handleInCartChange","isInCart","componentDidMount","get","data","render","length","props"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Route, Switch, Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport NavBar from \"./navbar\";\r\nimport ShoppingCart from \"./shoppingCart\";\r\nimport Home from \"./home\";\r\nimport ProductDetails from \"./productDetails\";\r\nimport Menu from \"./menu\";\r\nimport NotFound from \"./notFound\";\r\nimport Login from \"./login\";\r\nimport Admin from \"./admin\";\r\nimport ProductForm from \"./ProductForm\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    products: [],\r\n  };\r\n\r\n  async componentDidMount() {\r\n    //Call Backend\r\n    let { data } = await axios.get(\r\n      \"https://iti-react-cource.herokuapp.com/products\"\r\n    );\r\n\r\n    //Convert Object reterned from Firebase to Array\r\n    //In Lecture we use JSON-SERVER\r\n    // const dataArray = [];\r\n    // for (const key in data) {\r\n    //   dataArray[parseInt(data[key].id)] = data[key];\r\n    // }\r\n\r\n    //Set State\r\n    this.setState({ products: data });\r\n  }\r\n\r\n  //Not good Solution !!!\r\n  // async componentDidUpdate() {\r\n  //   //Call Backend\r\n  //   const { data } = await axios.get(\r\n  //     \"https://burger-restaurant-iti.firebaseio.com/products.json\"\r\n  //   );\r\n  //   //Set State\r\n  //   this.setState({ products: data });\r\n  // }\r\n\r\n  handleDelete = async (product) => {\r\n    const oldProducts = [...this.state.products];\r\n\r\n    //State\r\n    //Clone\r\n    //Edit\r\n    const products = this.state.products.filter((p) => p.id !== product.id);\r\n    //Set state\r\n    this.setState({ products });\r\n\r\n    try {\r\n      //Call B\r\n      await axios.delete(\r\n        \"https://iti-react-cource.herokuapp.com/products/111\" + product.id\r\n      );\r\n    } catch (ex) {\r\n      toast.e(\"Cant Delete\");\r\n      this.setState({ products: oldProducts });\r\n    }\r\n  };\r\n\r\n  handleEdit = () => {\r\n    console.log(\"edit\");\r\n  };\r\n\r\n  handleReset = () => {\r\n    //Clone\r\n    let products = [...this.state.products];\r\n    //Edit\r\n    products = products.map((p) => {\r\n      p.count = 0;\r\n      return p;\r\n    });\r\n    //Set state\r\n    this.setState({ products });\r\n  };\r\n\r\n  IncrementHandler = (product) => {\r\n    //Clone\r\n    const products = [...this.state.products];\r\n    const index = products.indexOf(product);\r\n    products[index] = { ...products[index] };\r\n    //Edit\r\n    products[index].count++;\r\n    //Set State\r\n    this.setState({ products });\r\n  };\r\n\r\n  handleInCartChange = (product) => {\r\n    //Clone\r\n    const products = [...this.state.products];\r\n    const index = products.indexOf(product);\r\n    products[index] = { ...products[index] };\r\n    //Edit\r\n    products[index].isInCart = !products[index].isInCart;\r\n    //Set State\r\n    this.setState({ products });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.products);\r\n    return (\r\n      <React.Fragment>\r\n        <ToastContainer />\r\n        <NavBar\r\n          productsCount={this.state.products.filter((p) => p.isInCart).length}\r\n        />\r\n        <main className=\"container\">\r\n          <Switch>\r\n            <Route\r\n              path=\"/products/:id/:name?\"\r\n              render={(props) => (\r\n                <ProductDetails products={this.state.products} {...props} />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/productform/:id\"\r\n              render={(props) => (\r\n                <ProductForm {...props} products={this.state.products} />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/admin\"\r\n              render={(props) => (\r\n                <Admin\r\n                  {...props}\r\n                  products={this.state.products}\r\n                  onDelete={this.handleDelete}\r\n                />\r\n              )}\r\n            />\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route\r\n              path=\"/cart\"\r\n              render={(props) => (\r\n                <ShoppingCart\r\n                  products={this.state.products.filter((p) => p.isInCart)}\r\n                  onIncrement={this.IncrementHandler}\r\n                  onDelete={this.handleInCartChange}\r\n                  onReset={this.handleReset}\r\n                  {...props}\r\n                />\r\n              )}\r\n            />\r\n            <Route path=\"/notfound\" component={NotFound} />\r\n            {/* //2. Add Route */}\r\n            <Route\r\n              path=\"/menu\"\r\n              render={(props) => (\r\n                <Menu\r\n                  {...props}\r\n                  products={this.state.products}\r\n                  onClick={this.handleInCartChange}\r\n                />\r\n              )}\r\n            />\r\n            <Route path=\"/home\" exact component={Home} />\r\n            <Redirect from=\"/\" to=\"/home\" />\r\n            <Redirect to=\"/notfound\" />\r\n          </Switch>\r\n          {/* <ShoppingCart\r\n            products={this.state.products}\r\n            onIncrement={this.IncrementHandler}\r\n            onDelete={this.handleDelete}\r\n            onReset={this.handleReset}\r\n          /> */}\r\n        </main>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}